(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[892],{7787:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/users",function(){return a(4603)}])},3809:(e,s,a)=>{"use strict";a.d(s,{Z:()=>l});var t=a(5893),r=a(1664),n=a.n(r);function l(e){let s=e.links;return void 0===s&&(s=[]),(0,t.jsx)("div",{className:"breadcrumbs text-sm",children:(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:(0,t.jsx)(n(),{href:"/dashboard",children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-layout-dashboard",children:[(0,t.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,t.jsx)("path",{d:"M5 4h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1"}),(0,t.jsx)("path",{d:"M5 16h4a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1"}),(0,t.jsx)("path",{d:"M15 12h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1"}),(0,t.jsx)("path",{d:"M15 4h4a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1"})]})})}),s.map((e,s)=>(0,t.jsx)("li",{children:(0,t.jsx)(n(),{href:e.url,children:e.label})},s))]})})}},1099:(e,s,a)=>{"use strict";a.d(s,{I:()=>t});let t=(0,a(7294).createContext)(null)},2394:(e,s,a)=>{"use strict";a.d(s,{Z:()=>d});var t=a(5893),r=a(1664),n=a.n(r),l=a(7294),i=a(7066),c=a(1099);function d(e){let s=e.location,{user:a}=(0,l.useContext)(c.I),r=async()=>{try{let e=await i.Z.post("/api/logout");200===e.status&&window.location.assign("")}catch(e){}};return(0,t.jsxs)("div",{className:"drawer lg:drawer-open bg-red-50",children:[(0,t.jsx)("input",{id:"my-drawer-4",type:"checkbox",className:"drawer-toggle"}),(0,t.jsx)("div",{className:"drawer-content bg-white my-2 mx-2 rounded-lg",children:(0,t.jsx)("div",{className:"container px-4 lg:px-10 py-4 lg:py-4",children:e.children})}),(0,t.jsxs)("div",{className:"drawer-side",children:[(0,t.jsx)("label",{htmlFor:"my-drawer-4","aria-label":"close sidebar",className:"drawer-overlay"}),(0,t.jsxs)("div",{className:"flex flex-col justify-between min-h-screen",children:[(0,t.jsxs)("ul",{className:"menu p-4 w-64 min-h-full  text-primary ",children:[(0,t.jsx)("li",{className:"mb-10",children:(0,t.jsx)("div",{className:"text-4xl text-gray-600",children:"Albert"})}),(0,t.jsx)("li",{className:"rounded-lg  ".concat("/"===s?"sidebar-menu-active":""),children:(0,t.jsxs)("a",{href:"/dashboard",children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-layout-dashboard",children:[(0,t.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,t.jsx)("path",{d:"M5 4h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1"}),(0,t.jsx)("path",{d:"M5 16h4a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1"}),(0,t.jsx)("path",{d:"M15 12h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1"}),(0,t.jsx)("path",{d:"M15 4h4a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1"})]}),(0,t.jsx)("span",{children:"Dashboard"})]})}),(0,t.jsx)("li",{className:"rounded-lg ".concat("users"===s?"sidebar-menu-active mt-4":"mt-4"),children:(0,t.jsxs)(n(),{href:"/users/",children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-users",children:[(0,t.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,t.jsx)("path",{d:"M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0"}),(0,t.jsx)("path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"}),(0,t.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}),(0,t.jsx)("path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85"})]}),(0,t.jsx)("span",{children:"Users"})]})})]}),(0,t.jsx)("ul",{className:"menu p-4 w-64 min-h-full text-primary ",children:(0,t.jsxs)("li",{className:"bg-transparent dropdown dropdown-top rounded-lg ".concat("account"===s?"sidebar-menu-active mt-20":"mt-20"),children:[(0,t.jsxs)("div",{tabIndex:0,role:"button",className:" m-1",children:[a.first_name.at(0).toUpperCase(),". ",a.last_name.toUpperCase()]}),(0,t.jsxs)("ul",{tabIndex:0,className:"dropdown-content menu bg-base-100 rounded-box z-[1] w-52 shadow",children:[(0,t.jsx)("li",{children:(0,t.jsx)(n(),{href:"/account/settings",children:"Settings"})}),(0,t.jsx)("li",{children:(0,t.jsx)("button",{onClick:r,children:"Logout"})})]})]})})]})]})]})}},5734:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});var t=a(5893);function r(){return(0,t.jsx)("span",{className:"loading loading-spinner text-primary"})}},288:(e,s,a)=>{"use strict";a.d(s,{Cq:()=>n,sD:()=>l,xK:()=>i});var t=a(6455),r=a.n(t);let n=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Success",s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Operation was successful!";await r().fire({title:e,text:s,icon:"success",confirmButtonColor:"#4CAF50",confirmButtonText:"Okay"})},l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Error",s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Something went wrong!";r().fire({title:e,text:s,icon:"error",confirmButtonColor:"#E53E3E",confirmButtonText:"Try Again"})},i=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Are you sure?",s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"This action cannot be undone.";return(await r().fire({title:e,text:s,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes,Proceed",cancelButtonText:"Cancel",confirmButtonColor:"#d33",cancelButtonColor:"#4CAF50"})).isConfirmed}},4603:(e,s,a)=>{"use strict";a.r(s),a.d(s,{__N_SSP:()=>v,default:()=>g});var t=a(5893),r=a(2394),n=a(3809),l=a(1099),i=a(1664),c=a.n(i),d=a(7294),o=a(7066),h=a(288),x=a(5734);function u(){return(0,t.jsx)("div",{className:"bg-gray-100 border h-full",children:(0,t.jsx)("div",{className:"flex justify-center items-center h-full align-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{children:"No Data Selected."}),(0,t.jsx)("div",{className:"text-sm",children:"Select record to view details."})]})})})}function m(e){var s,a,r;let{datum:n,deleteCb:l}=e;return n?(0,t.jsxs)("div",{className:"facility-view border bg-white shadow-sm h-full px-4 py-3",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("div",{children:(0,t.jsx)("header",{className:"text-3xl",children:n.name})}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(c(),{href:"/users/".concat(n.id,"/edit"),className:"btn btn-secondary btn-sm",children:"Edit"}),(0,t.jsx)("button",{className:"btn btn-primary btn-sm",onClick:l,children:"Delete"})]})]}),(0,t.jsxs)("div",{className:"mt-4 mb-2 bg-gray-50 px-2 py-2 border border-gray-100 grid grid-cols-1 lg:grid-cols-4 gap-10",children:[(0,t.jsxs)("div",{className:"group my-4",children:[(0,t.jsx)("header",{className:"text-sm text-gray-500",children:"Username"}),n.username]}),(0,t.jsxs)("div",{className:"group my-4",children:[(0,t.jsx)("header",{className:"text-sm text-gray-500",children:"Role"}),null===(s=n.role)||void 0===s?void 0:s.name]}),(0,t.jsxs)("div",{className:"group my-4",children:[(0,t.jsx)("header",{className:"text-sm text-gray-500",children:"Affiliation"}),"--"]})]}),(0,t.jsxs)("div",{className:"my-2 bg-gray-50 px-2 py-2 border border-gray-100 grid grid-cols-1 lg:grid-cols-4 gap-10",children:[(0,t.jsxs)("div",{className:"group my-4",children:[(0,t.jsx)("header",{className:"text-sm text-gray-500",children:"First Name"}),n.first_name]}),(0,t.jsxs)("div",{className:"group my-4",children:[(0,t.jsx)("header",{className:"text-sm text-gray-500",children:"Last Name"}),n.last_name]}),(0,t.jsxs)("div",{className:"group my-4",children:[(0,t.jsx)("header",{className:"text-sm text-gray-500",children:"Email"}),null!==(a=n.email)&&void 0!==a?a:"--"]}),(0,t.jsxs)("div",{className:"group my-4",children:[(0,t.jsx)("header",{className:"text-sm text-gray-500",children:"Phone #"}),null!==(r=n.phone)&&void 0!==r?r:"--"]})]})]}):(0,t.jsx)(u,{})}function j(e){let{users:s}=e,a=(0,d.useContext)(l.I),[r,n]=(0,d.useState)(!0),[i,c]=(0,d.useState)([]),[u,j]=(0,d.useState)(""),[v,g]=(0,d.useState)(null);(0,d.useEffect)(()=>{b()},[]);let p=async e=>{try{let s=await o.Z.delete("".concat(a.backendUrl,"/admin/users/").concat(e.id),{headers:{...a.authHeader}});204===s.status&&(c(i.filter(s=>s.id!==e.id)),g(null),(0,h.Cq)("Deleted!","User has been deleted successfully."))}catch(e){(0,h.sD)("Oops!","Something went wrong!")}},w=async()=>{await (0,h.xK)("Delete this item?","You won't be able to undo this!")?await p(v):console.log("Action canceled")},b=async()=>{n(!0);try{let e=await o.Z.get("".concat(a.backendUrl,"/admin/users"),{headers:{...a.authHeader}});if(200===e.status){let s=e.data.data;c(s)}}catch(e){console.log(e),(0,h.sD)("Oops!","Failed to fetch data.")}n(!1)};return r?(0,t.jsx)(x.Z,{loading:r}):(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-10",children:[(0,t.jsxs)("div",{className:"h-[35em] bg-white shadow-sm border",children:[(0,t.jsx)("div",{className:"px-2 py-2",children:(0,t.jsx)("input",{type:"search",className:"input input-bordered w-full",value:u,onChange:e=>j(e.target.value),placeholder:"Search..."})}),(0,t.jsx)("div",{className:"h-[25em]  overflow-y-auto overscroll-auto",children:i.map((e,s)=>(0,t.jsx)("div",{onClick:()=>g(e),className:"list-group-item ".concat((null==v?void 0:v.id)===e.id?"active":""),children:(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("div",{children:e.name}),(null==v?void 0:v.id)===e.id&&(0,t.jsx)("div",{children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-arrow-right-square",children:[(0,t.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,t.jsx)("path",{d:"M7 12l14 0"}),(0,t.jsx)("path",{d:"M18 15l3 -3l-3 -3"}),(0,t.jsx)("path",{d:"M3 10h4v4h-4z"})]})})]})},s))})]}),(0,t.jsx)("div",{className:"col-span-2",children:(0,t.jsx)(m,{datum:v,deleteCb:w})})]})}var v=!0;function g(e){return(0,t.jsx)(l.I.Provider,{value:e.configBundle,children:(0,t.jsxs)(r.Z,{location:"users",children:[(0,t.jsx)(n.Z,{links:[{label:"Users",url:"/users"}]}),(0,t.jsxs)("div",{className:"my-4",children:[(0,t.jsx)("header",{className:"text-4xl text-gray-600",children:"Users"}),(0,t.jsx)("p",{children:(0,t.jsx)("small",{children:"Create and manage user accounts."})})]}),(0,t.jsxs)("div",{className:"my-10",children:[(0,t.jsx)("div",{className:"my-4",children:(0,t.jsx)(c(),{href:"/users/create",className:"btn btn-primary",children:"New User"})}),(0,t.jsx)(j,{})]})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[166,959,888,774,179],()=>s(7787)),_N_E=e.O()}]);