(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[718],{1331:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/settings",function(){return a(3770)}])},3809:(e,s,a)=>{"use strict";a.d(s,{Z:()=>l});var t=a(5893),r=a(1664),n=a.n(r);function l(e){let s=e.links;return void 0===s&&(s=[]),(0,t.jsx)("div",{className:"breadcrumbs text-sm",children:(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:(0,t.jsx)(n(),{href:"/dashboard",children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-layout-dashboard",children:[(0,t.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,t.jsx)("path",{d:"M5 4h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1"}),(0,t.jsx)("path",{d:"M5 16h4a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1"}),(0,t.jsx)("path",{d:"M15 12h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1"}),(0,t.jsx)("path",{d:"M15 4h4a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1"})]})})}),s.map((e,s)=>(0,t.jsx)("li",{children:(0,t.jsx)(n(),{href:e.url,children:e.label})},s))]})})}},1099:(e,s,a)=>{"use strict";a.d(s,{I:()=>t});let t=(0,a(7294).createContext)(null)},4263:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});var t=a(5893);function r(e){let{error:s}=e;return s&&(0,t.jsx)("div",{className:"invalid-feedback",children:s})}},2394:(e,s,a)=>{"use strict";a.d(s,{Z:()=>o});var t=a(5893),r=a(1664),n=a.n(r),l=a(7294),i=a(7066),c=a(1099);function o(e){let s=e.location,{user:a}=(0,l.useContext)(c.I),r=async()=>{try{let e=await i.Z.post("/api/logout");200===e.status&&window.location.assign("")}catch(e){}};return(0,t.jsxs)("div",{className:"drawer lg:drawer-open bg-red-50",children:[(0,t.jsx)("input",{id:"my-drawer-4",type:"checkbox",className:"drawer-toggle"}),(0,t.jsx)("div",{className:"drawer-content bg-white my-2 mx-2 rounded-lg",children:(0,t.jsx)("div",{className:"container px-4 lg:px-10 py-4 lg:py-4",children:e.children})}),(0,t.jsxs)("div",{className:"drawer-side",children:[(0,t.jsx)("label",{htmlFor:"my-drawer-4","aria-label":"close sidebar",className:"drawer-overlay"}),(0,t.jsxs)("div",{className:"flex flex-col justify-between min-h-screen",children:[(0,t.jsxs)("ul",{className:"menu p-4 w-64 min-h-full  text-primary ",children:[(0,t.jsx)("li",{className:"mb-10",children:(0,t.jsx)("div",{className:"text-4xl text-gray-600",children:"Albert"})}),(0,t.jsx)("li",{className:"rounded-lg  ".concat("/"===s?"sidebar-menu-active":""),children:(0,t.jsxs)("a",{href:"/dashboard",children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-layout-dashboard",children:[(0,t.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,t.jsx)("path",{d:"M5 4h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1"}),(0,t.jsx)("path",{d:"M5 16h4a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1"}),(0,t.jsx)("path",{d:"M15 12h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1"}),(0,t.jsx)("path",{d:"M15 4h4a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1"})]}),(0,t.jsx)("span",{children:"Dashboard"})]})}),(0,t.jsx)("li",{className:"rounded-lg ".concat("users"===s?"sidebar-menu-active mt-4":"mt-4"),children:(0,t.jsxs)(n(),{href:"/users/",children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-users",children:[(0,t.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,t.jsx)("path",{d:"M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0"}),(0,t.jsx)("path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"}),(0,t.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}),(0,t.jsx)("path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85"})]}),(0,t.jsx)("span",{children:"Users"})]})})]}),(0,t.jsx)("ul",{className:"menu p-4 w-64 min-h-full text-primary ",children:(0,t.jsxs)("li",{className:"bg-transparent dropdown dropdown-top rounded-lg ".concat("account"===s?"sidebar-menu-active mt-20":"mt-20"),children:[(0,t.jsxs)("div",{tabIndex:0,role:"button",className:" m-1",children:[a.first_name.at(0).toUpperCase(),". ",a.last_name.toUpperCase()]}),(0,t.jsxs)("ul",{tabIndex:0,className:"dropdown-content menu bg-base-100 rounded-box z-[1] w-52 shadow",children:[(0,t.jsx)("li",{children:(0,t.jsx)(n(),{href:"/account/settings",children:"Settings"})}),(0,t.jsx)("li",{children:(0,t.jsx)("button",{onClick:r,children:"Logout"})})]})]})})]})]})]})}},630:(e,s,a)=>{"use strict";a.d(s,{Z:()=>d});var t=a(5893),r=a(4263),n=a(7294),l=a(7066),i=a(1099),c=a(6455),o=a.n(c);function d(e){let{user:s}=e,a=(0,n.useContext)(i.I),[c,d]=(0,n.useState)(""),[h,u]=(0,n.useState)(""),[x,p]=(0,n.useState)({}),[m,j]=(0,n.useState)(!1),g=async()=>{j(!0),p({});try{let e=await l.Z.patch("".concat(a.backendUrl,"/users/").concat(s.id,"/change-password"),{password:c,password_confirmation:h},{headers:{...a.authHeader}});200===e.status&&(o().fire({title:"Success!",text:"Operation successfully completed.",icon:"success",confirmButtonText:"Ok"}),d(""),u(""))}catch(e){v(e)}j(!1)},v=e=>{let s="Oops! Something went wrong";e.response&&422===e.response.status&&(p(e.response.data.errors),s=e.response.data.message),console.error(e),enqueueSnackbar(s,{variant:"error",preventDuplicate:!1})};return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"bg-gray-50 px-4 py-4 mt-10 mb-4",children:[(0,t.jsx)("div",{children:"Security Options"}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Use these settings to reset the password for this account."})]}),(0,t.jsx)("div",{className:"grid grid-cols-1  lg:grid-cols-3 gap-10",children:(0,t.jsxs)("form",{action:"#",children:[(0,t.jsxs)("label",{className:"form-control",children:[(0,t.jsx)("div",{className:"label",children:(0,t.jsx)("span",{className:"label-text",children:"Password"})}),(0,t.jsx)("input",{type:"password",className:"input input-bordered flex items-center gap-2 ".concat(x.password&&"input-error"),value:c,onChange:e=>d(e.target.value),placeholder:"Type passord",required:!0}),(0,t.jsx)(r.Z,{error:x.password})]}),(0,t.jsxs)("label",{className:"form-control",children:[(0,t.jsx)("div",{className:"label",children:(0,t.jsx)("span",{className:"label-text",children:"Confirm Password"})}),(0,t.jsx)("input",{type:"password",className:"input input-bordered flex items-center gap-2 ".concat(x.password_confirmation&&"input-error"),value:h,onChange:e=>u(e.target.value),placeholder:"Re-enter password",required:!0}),(0,t.jsx)(r.Z,{error:x.password_confirmation})]}),(0,t.jsxs)("button",{type:"button",className:"btn btn-primary my-4",onClick:g,children:[m&&(0,t.jsx)("span",{className:"loading loading-spinner loading-md"}),"Save"]})]})})]})}},3770:(e,s,a)=>{"use strict";a.r(s),a.d(s,{__N_SSP:()=>p,default:()=>m});var t=a(5893),r=a(2394),n=a(3809);a(1664);var l=a(1099),i=a(7294),c=a(4263),o=a(7066),d=a(6455),h=a.n(d);function u(e){let s=(0,i.useContext)(l.I),[a,r]=(0,i.useState)(""),[n,d]=(0,i.useState)(""),[u,x]=(0,i.useState)({}),[p,m]=(0,i.useState)(!1),j=e=>{e.response&&422===e.response.status&&(x(e.response.data.errors),e.response.data.message),console.error(e)},g=async()=>{m(!0),x({});try{b({phone:a,email:n})}catch(e){j(e)}m(!1)},v=async e=>{try{let a=await o.Z.post("/api/amend-user",{updated_user:e,api_token:s.apiToken});console.log(a)}catch(e){console.log(e)}},b=async a=>{let t=await o.Z.patch("".concat(s.backendUrl,"/users/").concat(e.initData.id),a,{headers:{...s.authHeader}});200===t.status&&(h().fire({title:"Success!",text:"Operation successfully completed.",icon:"success",confirmButtonText:"Ok"}),await v(t.data.data))};return(0,i.useEffect)(()=>{e.initData&&(r(e.initData.phone),d(e.initData.email))},[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12 my-4",children:(0,t.jsx)("div",{children:(0,t.jsxs)("form",{action:"",children:[(0,t.jsxs)("label",{className:"form-control",children:[(0,t.jsx)("div",{className:"label",children:(0,t.jsx)("span",{className:"label-text",children:"Phone"})}),(0,t.jsx)("input",{type:"text",className:"input input-bordered flex items-center gap-2 ".concat(u.phone&&"input-error"),value:a,onChange:e=>r(e.target.value),placeholder:"Enter phone number",required:!0}),(0,t.jsx)(c.Z,{error:u.phone})]}),(0,t.jsxs)("label",{className:"form-control",children:[(0,t.jsx)("div",{className:"label",children:(0,t.jsx)("span",{className:"label-text",children:"Email"})}),(0,t.jsx)("input",{type:"text",className:"input input-bordered ".concat(u.email&&"input-error"),value:n,onChange:e=>d(e.target.value),placeholder:"Type email address",required:!0}),(0,t.jsx)(c.Z,{error:u.email})]})]})})}),(0,t.jsx)("div",{className:"my-4 gap-2 flex",children:(0,t.jsxs)("button",{className:"btn btn-primary",onClick:g,children:[p&&(0,t.jsx)("span",{className:"loading loading-spinner loading-md"}),"Save"]})})]})}var x=a(630),p=!0;function m(e){return(0,t.jsx)(l.I.Provider,{value:e.configBundle,children:(0,t.jsxs)(r.Z,{location:"account",children:[(0,t.jsx)(n.Z,{links:[{label:"Account Settings",url:"/account-settings"}]}),(0,t.jsxs)("div",{className:"my-4",children:[(0,t.jsx)("header",{className:"text-4xl text-gray-600",children:"Account Settings"}),(0,t.jsx)("p",{children:(0,t.jsx)("small",{children:"Manage your account settings."})})]}),(0,t.jsx)(u,{initData:e.configBundle.user}),(0,t.jsx)(x.Z,{user:e.configBundle.user})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[166,959,888,774,179],()=>s(1331)),_N_E=e.O()}]);