exports.id=824,exports.ids=[824],exports.modules={8545:(e,s,a)=>{"use strict";a.d(s,{Z:()=>l});var t=a(997),r=a(1664),n=a.n(r);function l(e){let s=e.links;return void 0===s&&(s=[]),(0,t.jsx)("div",{className:"breadcrumbs text-sm",children:(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:(0,t.jsx)(n(),{href:"/dashboard",children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-layout-dashboard",children:[(0,t.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,t.jsx)("path",{d:"M5 4h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1"}),(0,t.jsx)("path",{d:"M5 16h4a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1"}),(0,t.jsx)("path",{d:"M15 12h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1"}),(0,t.jsx)("path",{d:"M15 4h4a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1"})]})})}),s.map((e,s)=>(0,t.jsx)("li",{children:(0,t.jsx)(n(),{href:e.url,children:e.label})},s))]})})}},1099:(e,s,a)=>{"use strict";a.d(s,{I:()=>t});let t=(0,a(6689).createContext)(null)},4263:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});var t=a(997);function r({error:e}){return e&&(0,t.jsx)("div",{className:"invalid-feedback",children:e})}},2394:(e,s,a)=>{"use strict";a.a(e,async(e,t)=>{try{a.d(s,{Z:()=>u});var r=a(997),n=a(1664),l=a.n(n),i=a(6689),o=a(9648),c=a(1099),d=e([o]);function u(e){let s=e.location,{user:a}=(0,i.useContext)(c.I),t=async()=>{try{let e=await o.default.post("/api/logout");200===e.status&&window.location.assign("")}catch(e){}};return(0,r.jsxs)("div",{className:"drawer lg:drawer-open bg-red-50",children:[(0,r.jsx)("input",{id:"my-drawer-4",type:"checkbox",className:"drawer-toggle"}),(0,r.jsx)("div",{className:"drawer-content bg-white my-2 mx-2 rounded-lg",children:(0,r.jsx)("div",{className:"container px-4 lg:px-10 py-4 lg:py-4",children:e.children})}),(0,r.jsxs)("div",{className:"drawer-side",children:[(0,r.jsx)("label",{htmlFor:"my-drawer-4","aria-label":"close sidebar",className:"drawer-overlay"}),(0,r.jsxs)("div",{className:"flex flex-col justify-between min-h-screen",children:[(0,r.jsxs)("ul",{className:"menu p-4 w-64 min-h-full  text-primary ",children:[(0,r.jsx)("li",{className:"mb-10",children:(0,r.jsx)("div",{className:"text-4xl text-gray-600",children:"Albert"})}),(0,r.jsx)("li",{className:`rounded-lg  ${"/"===s?"sidebar-menu-active":""}`,children:(0,r.jsxs)("a",{href:"/dashboard",children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-layout-dashboard",children:[(0,r.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.jsx)("path",{d:"M5 4h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1"}),(0,r.jsx)("path",{d:"M5 16h4a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1"}),(0,r.jsx)("path",{d:"M15 12h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1"}),(0,r.jsx)("path",{d:"M15 4h4a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1"})]}),(0,r.jsx)("span",{children:"Dashboard"})]})}),(0,r.jsx)("li",{className:`rounded-lg ${"users"===s?"sidebar-menu-active mt-4":"mt-4"}`,children:(0,r.jsxs)(l(),{href:"/users/",children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-users",children:[(0,r.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.jsx)("path",{d:"M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0"}),(0,r.jsx)("path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"}),(0,r.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}),(0,r.jsx)("path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85"})]}),(0,r.jsx)("span",{children:"Users"})]})})]}),(0,r.jsx)("ul",{className:"menu p-4 w-64 min-h-full text-primary ",children:(0,r.jsxs)("li",{className:`bg-transparent dropdown dropdown-top rounded-lg ${"account"===s?"sidebar-menu-active mt-20":"mt-20"}`,children:[(0,r.jsxs)("div",{tabIndex:0,role:"button",className:" m-1",children:[a.first_name.at(0).toUpperCase(),". ",a.last_name.toUpperCase()]}),(0,r.jsxs)("ul",{tabIndex:0,className:"dropdown-content menu bg-base-100 rounded-box z-[1] w-52 shadow",children:[(0,r.jsx)("li",{children:(0,r.jsx)(l(),{href:"/account/settings",children:"Settings"})}),(0,r.jsx)("li",{children:(0,r.jsx)("button",{onClick:t,children:"Logout"})})]})]})})]})]})]})}o=(d.then?(await d)():d)[0],t()}catch(e){t(e)}})},1139:(e,s,a)=>{"use strict";a.a(e,async(e,t)=>{try{a.d(s,{Z:()=>m});var r=a(997),n=a(6689),l=a(4263),i=a(1664),o=a.n(i),c=a(9648),d=a(1099),u=a(288),h=e([c]);function m(e){let s=(0,n.useContext)(d.I),[a,t]=(0,n.useState)(""),[i,h]=(0,n.useState)(""),[m,x]=(0,n.useState)(""),[p,j]=(0,n.useState)(""),[v,g]=(0,n.useState)(""),[b,f]=(0,n.useState)({}),[w,N]=(0,n.useState)(!1),y=()=>{x(""),j(""),g(""),h(""),t("")},C=e=>{e.response&&422===e.response.status&&(f(e.response.data.errors),e.response.data.message),e.response&&e.response.data.message,console.error(e),(0,u.sD)("Oops! ","Something went wrong")},k=async()=>{N(!0),f({});try{let s={username:m,first_name:p,last_name:v,email:i,phone:a};e.initData?await _(s):await S(s)}catch(e){C(e)}N(!1)},S=async e=>{let a=await c.default.post(`${s.backendUrl}/admin/users`,e,{headers:{...s.authHeader,"Content-Type":"multipart/form-data"}});201===a.status&&((0,u.Cq)(),y())},_=async a=>{let t=await c.default.patch(`${s.backendUrl}/users/${e.initData.id}`,a,{headers:{...s.authHeader}});200===t.status&&(0,u.Cq)("Success!","Operation was successful!")};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"grid grid-cols-1  lg:grid-cols-3 gap-12 my-4",children:(0,r.jsx)("div",{children:(0,r.jsxs)("form",{action:"",children:[(0,r.jsxs)("label",{className:"form-control",children:[(0,r.jsx)("div",{className:"label",children:(0,r.jsx)("span",{className:"label-text",children:"Username"})}),(0,r.jsx)("input",{type:"text",className:`input input-bordered flex items-center gap-2 ${b.username&&"input-error"}`,value:m,onChange:e=>x(e.target.value),placeholder:"Type username",required:!0}),(0,r.jsx)(l.Z,{error:b.username})]}),(0,r.jsx)("div",{className:"my-2",children:(0,r.jsx)("hr",{})}),(0,r.jsxs)("label",{className:"form-control",children:[(0,r.jsx)("div",{className:"label",children:(0,r.jsx)("span",{className:"label-text",children:"First Name"})}),(0,r.jsx)("input",{type:"text",className:`input input-bordered flex items-center gap-2 ${b.first_name&&"input-error"}`,value:p,onChange:e=>j(e.target.value),placeholder:"Type first name",required:!0}),(0,r.jsx)(l.Z,{error:b.first_name})]}),(0,r.jsxs)("label",{className:"form-control",children:[(0,r.jsx)("div",{className:"label",children:(0,r.jsx)("span",{className:"label-text",children:"Last Name"})}),(0,r.jsx)("input",{type:"text",className:`input input-bordered flex items-center gap-2 ${b.last_name&&"input-error"}`,value:v,onChange:e=>g(e.target.value),placeholder:"Type last name",required:!0}),(0,r.jsx)(l.Z,{error:b.last_name})]}),(0,r.jsxs)("label",{className:"form-control",children:[(0,r.jsx)("div",{className:"label",children:(0,r.jsx)("span",{className:"label-text",children:"Email"})}),(0,r.jsx)("input",{type:"email",className:`input input-bordered flex items-center gap-2 ${b.email&&"input-error"}`,value:i,onChange:e=>h(e.target.value),placeholder:"Type email address",required:!0}),(0,r.jsx)(l.Z,{error:b.email})]}),(0,r.jsxs)("label",{className:"form-control",children:[(0,r.jsx)("div",{className:"label",children:(0,r.jsx)("span",{className:"label-text",children:"Phone"})}),(0,r.jsx)("input",{type:"text",className:`input input-bordered flex items-center gap-2 ${b.phone&&"input-error"}`,value:a,onChange:e=>t(e.target.value),placeholder:"Type phone number",required:!0}),(0,r.jsx)(l.Z,{error:b.phone})]})]})})}),(0,r.jsxs)("div",{className:"my-4 gap-2 flex",children:[(0,r.jsxs)("button",{className:"btn btn-primary",onClick:k,children:[w&&(0,r.jsx)("span",{className:"loading loading-spinner loading-md"}),"Save"]}),(0,r.jsx)(o(),{href:"/users",className:"btn btn-neutral border-0 hover:text-white",children:"Cancel"})]})]})}c=(h.then?(await h)():h)[0],t()}catch(e){t(e)}})},288:(e,s,a)=>{"use strict";a.d(s,{Cq:()=>n,sD:()=>l,xK:()=>i});var t=a(271),r=a.n(t);let n=async(e="Success",s="Operation was successful!")=>{await r().fire({title:e,text:s,icon:"success",confirmButtonColor:"#4CAF50",confirmButtonText:"Okay"})},l=(e="Error",s="Something went wrong!")=>{r().fire({title:e,text:s,icon:"error",confirmButtonColor:"#E53E3E",confirmButtonText:"Try Again"})},i=async(e="Are you sure?",s="This action cannot be undone.")=>(await r().fire({title:e,text:s,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes,Proceed",cancelButtonText:"Cancel",confirmButtonColor:"#d33",cancelButtonColor:"#4CAF50"})).isConfirmed},554:(e,s,a)=>{"use strict";async function t({req:e,res:s}){if(!e.session.get("user"))return{redirect:{destination:"/",permanent:!1}};let a={user:e.session.get("user"),apiToken:e.session.get("api_token"),backendUrl:process.env.BACKEND_API_HOST+"/api",hostUrl:process.env.BACKEND_API_HOST,authHeader:{Authorization:"Bearer "+e.session.get("api_token")}};return{props:{user:e.session.get("user"),api_token:e.session.get("api_token"),configBundle:a}}}async function r({req:e,res:s}){return e.session.get("user")?{redirect:{destination:"/dashboard",permanent:!1}}:{props:{url:process.env.BACKEND_API_HOST}}}a.d(s,{ZP:()=>t,p2:()=>r}),a(1163)},4414:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});var t=a(4511);function r(e){return(0,t.withIronSession)(e,{password:process.env.SECRET_COOKIE_PASSWORD,cookieName:"clm.mw",cookieOptions:{secure:!0}})}},4926:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>o});var t=a(997);a(6764),a(5527);var r=a(1163),n=a.n(r),l=a(808),i=a.n(l);function o({Component:e,pageProps:s}){return(0,t.jsx)(e,{...s})}a(4204),i().configure({showSpinner:!0,speed:300,minimum:.2}),n().events.on("routeChangeStart",()=>i().start()),n().events.on("routeChangeComplete",()=>i().done()),n().events.on("routeChangeError",()=>i().done())},4494:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>n});var t=a(997),r=a(6859);function n(){return(0,t.jsxs)(r.Html,{lang:"en",children:[(0,t.jsx)(r.Head,{}),(0,t.jsxs)("body",{className:"antialiased",children:[(0,t.jsx)(r.Main,{}),(0,t.jsx)(r.NextScript,{})]})]})}},6764:()=>{},5527:()=>{}};