(()=>{var e={};e.id=718,e.ids=[718,888,660],e.modules={5747:(e,s,t)=>{"use strict";t.a(e,async(e,r)=>{try{t.r(s),t.d(s,{config:()=>m,default:()=>u,getServerSideProps:()=>x,getStaticPaths:()=>h,getStaticProps:()=>p,reportWebVitals:()=>g,routeModule:()=>y,unstable_getServerProps:()=>f,unstable_getServerSideProps:()=>w,unstable_getStaticParams:()=>b,unstable_getStaticPaths:()=>v,unstable_getStaticProps:()=>j});var a=t(5872),n=t(3593),i=t(1323),l=t(4494),o=t(4926),c=t(6178),d=e([c]);c=(d.then?(await d)():d)[0];let u=(0,i.l)(c,"default"),p=(0,i.l)(c,"getStaticProps"),h=(0,i.l)(c,"getStaticPaths"),x=(0,i.l)(c,"getServerSideProps"),m=(0,i.l)(c,"config"),g=(0,i.l)(c,"reportWebVitals"),j=(0,i.l)(c,"unstable_getStaticProps"),v=(0,i.l)(c,"unstable_getStaticPaths"),b=(0,i.l)(c,"unstable_getStaticParams"),f=(0,i.l)(c,"unstable_getServerProps"),w=(0,i.l)(c,"unstable_getServerSideProps"),y=new a.PagesRouteModule({definition:{kind:n.x.PAGES,page:"/account/settings",pathname:"/account/settings",bundlePath:"",filename:""},components:{App:o.default,Document:l.default},userland:c});r()}catch(e){r(e)}})},8545:(e,s,t)=>{"use strict";t.d(s,{Z:()=>i});var r=t(997),a=t(1664),n=t.n(a);function i(e){let s=e.links;return void 0===s&&(s=[]),(0,r.jsx)("div",{className:"breadcrumbs text-sm",children:(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:(0,r.jsx)(n(),{href:"/dashboard",children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-layout-dashboard",children:[(0,r.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.jsx)("path",{d:"M5 4h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1"}),(0,r.jsx)("path",{d:"M5 16h4a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1"}),(0,r.jsx)("path",{d:"M15 12h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1"}),(0,r.jsx)("path",{d:"M15 4h4a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1"})]})})}),s.map((e,s)=>(0,r.jsx)("li",{children:(0,r.jsx)(n(),{href:e.url,children:e.label})},s))]})})}},1099:(e,s,t)=>{"use strict";t.d(s,{I:()=>r});let r=(0,t(6689).createContext)(null)},4263:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});var r=t(997);function a({error:e}){return e&&(0,r.jsx)("div",{className:"invalid-feedback",children:e})}},2394:(e,s,t)=>{"use strict";t.a(e,async(e,r)=>{try{t.d(s,{Z:()=>u});var a=t(997),n=t(1664),i=t.n(n),l=t(6689),o=t(9648),c=t(1099),d=e([o]);function u(e){let s=e.location,{user:t}=(0,l.useContext)(c.I),r=async()=>{try{let e=await o.default.post("/api/logout");200===e.status&&window.location.assign("")}catch(e){}};return(0,a.jsxs)("div",{className:"drawer lg:drawer-open bg-red-50",children:[(0,a.jsx)("input",{id:"my-drawer-4",type:"checkbox",className:"drawer-toggle"}),(0,a.jsx)("div",{className:"drawer-content bg-white my-2 mx-2 rounded-lg",children:(0,a.jsx)("div",{className:"container px-4 lg:px-10 py-4 lg:py-4",children:e.children})}),(0,a.jsxs)("div",{className:"drawer-side",children:[(0,a.jsx)("label",{htmlFor:"my-drawer-4","aria-label":"close sidebar",className:"drawer-overlay"}),(0,a.jsxs)("div",{className:"flex flex-col justify-between min-h-screen",children:[(0,a.jsxs)("ul",{className:"menu p-4 w-64 min-h-full  text-primary ",children:[(0,a.jsx)("li",{className:"mb-10",children:(0,a.jsx)("div",{className:"text-4xl text-gray-600",children:"Albert"})}),(0,a.jsx)("li",{className:`rounded-lg  ${"/"===s?"sidebar-menu-active":""}`,children:(0,a.jsxs)("a",{href:"/dashboard",children:[(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-layout-dashboard",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M5 4h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1"}),(0,a.jsx)("path",{d:"M5 16h4a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1"}),(0,a.jsx)("path",{d:"M15 12h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1"}),(0,a.jsx)("path",{d:"M15 4h4a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1"})]}),(0,a.jsx)("span",{children:"Dashboard"})]})}),(0,a.jsx)("li",{className:`rounded-lg ${"users"===s?"sidebar-menu-active mt-4":"mt-4"}`,children:(0,a.jsxs)(i(),{href:"/users/",children:[(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-users",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0"}),(0,a.jsx)("path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"}),(0,a.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}),(0,a.jsx)("path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85"})]}),(0,a.jsx)("span",{children:"Users"})]})})]}),(0,a.jsx)("ul",{className:"menu p-4 w-64 min-h-full text-primary ",children:(0,a.jsxs)("li",{className:`bg-transparent dropdown dropdown-top rounded-lg ${"account"===s?"sidebar-menu-active mt-20":"mt-20"}`,children:[(0,a.jsxs)("div",{tabIndex:0,role:"button",className:" m-1",children:[t.first_name.at(0).toUpperCase(),". ",t.last_name.toUpperCase()]}),(0,a.jsxs)("ul",{tabIndex:0,className:"dropdown-content menu bg-base-100 rounded-box z-[1] w-52 shadow",children:[(0,a.jsx)("li",{children:(0,a.jsx)(i(),{href:"/account/settings",children:"Settings"})}),(0,a.jsx)("li",{children:(0,a.jsx)("button",{onClick:r,children:"Logout"})})]})]})})]})]})]})}o=(d.then?(await d)():d)[0],r()}catch(e){r(e)}})},630:(e,s,t)=>{"use strict";t.a(e,async(e,r)=>{try{t.d(s,{Z:()=>p});var a=t(997),n=t(4263),i=t(6689),l=t(9648),o=t(1099),c=t(271),d=t.n(c),u=e([l]);function p({user:e}){let s=(0,i.useContext)(o.I),[t,r]=(0,i.useState)(""),[c,u]=(0,i.useState)(""),[p,h]=(0,i.useState)({}),[x,m]=(0,i.useState)(!1),g=async()=>{m(!0),h({});try{let a=await l.default.patch(`${s.backendUrl}/users/${e.id}/change-password`,{password:t,password_confirmation:c},{headers:{...s.authHeader}});200===a.status&&(d().fire({title:"Success!",text:"Operation successfully completed.",icon:"success",confirmButtonText:"Ok"}),r(""),u(""))}catch(e){j(e)}m(!1)},j=e=>{let s="Oops! Something went wrong";e.response&&422===e.response.status&&(h(e.response.data.errors),s=e.response.data.message),console.error(e),enqueueSnackbar(s,{variant:"error",preventDuplicate:!1})};return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"bg-gray-50 px-4 py-4 mt-10 mb-4",children:[(0,a.jsx)("div",{children:"Security Options"}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Use these settings to reset the password for this account."})]}),(0,a.jsx)("div",{className:"grid grid-cols-1  lg:grid-cols-3 gap-10",children:(0,a.jsxs)("form",{action:"#",children:[(0,a.jsxs)("label",{className:"form-control",children:[(0,a.jsx)("div",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"Password"})}),(0,a.jsx)("input",{type:"password",className:`input input-bordered flex items-center gap-2 ${p.password&&"input-error"}`,value:t,onChange:e=>r(e.target.value),placeholder:"Type passord",required:!0}),(0,a.jsx)(n.Z,{error:p.password})]}),(0,a.jsxs)("label",{className:"form-control",children:[(0,a.jsx)("div",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"Confirm Password"})}),(0,a.jsx)("input",{type:"password",className:`input input-bordered flex items-center gap-2 ${p.password_confirmation&&"input-error"}`,value:c,onChange:e=>u(e.target.value),placeholder:"Re-enter password",required:!0}),(0,a.jsx)(n.Z,{error:p.password_confirmation})]}),(0,a.jsxs)("button",{type:"button",className:"btn btn-primary my-4",onClick:g,children:[x&&(0,a.jsx)("span",{className:"loading loading-spinner loading-md"}),"Save"]})]})})]})}l=(u.then?(await u)():u)[0],r()}catch(e){r(e)}})},6719:(e,s,t)=>{"use strict";t.a(e,async(e,r)=>{try{t.d(s,{Z:()=>p});var a=t(997),n=t(6689),i=t(4263),l=t(9648),o=t(1099),c=t(271),d=t.n(c),u=e([l]);function p(e){let s=(0,n.useContext)(o.I),[t,r]=(0,n.useState)(""),[c,u]=(0,n.useState)(""),[p,h]=(0,n.useState)({}),[x,m]=(0,n.useState)(!1),g=e=>{e.response&&422===e.response.status&&(h(e.response.data.errors),e.response.data.message),console.error(e)},j=async()=>{m(!0),h({});try{b({phone:t,email:c})}catch(e){g(e)}m(!1)},v=async e=>{try{let t=await l.default.post("/api/amend-user",{updated_user:e,api_token:s.apiToken});console.log(t)}catch(e){console.log(e)}},b=async t=>{let r=await l.default.patch(`${s.backendUrl}/users/${e.initData.id}`,t,{headers:{...s.authHeader}});200===r.status&&(d().fire({title:"Success!",text:"Operation successfully completed.",icon:"success",confirmButtonText:"Ok"}),await v(r.data.data))};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12 my-4",children:(0,a.jsx)("div",{children:(0,a.jsxs)("form",{action:"",children:[(0,a.jsxs)("label",{className:"form-control",children:[(0,a.jsx)("div",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"Phone"})}),(0,a.jsx)("input",{type:"text",className:`input input-bordered flex items-center gap-2 ${p.phone&&"input-error"}`,value:t,onChange:e=>r(e.target.value),placeholder:"Enter phone number",required:!0}),(0,a.jsx)(i.Z,{error:p.phone})]}),(0,a.jsxs)("label",{className:"form-control",children:[(0,a.jsx)("div",{className:"label",children:(0,a.jsx)("span",{className:"label-text",children:"Email"})}),(0,a.jsx)("input",{type:"text",className:`input input-bordered ${p.email&&"input-error"}`,value:c,onChange:e=>u(e.target.value),placeholder:"Type email address",required:!0}),(0,a.jsx)(i.Z,{error:p.email})]})]})})}),(0,a.jsx)("div",{className:"my-4 gap-2 flex",children:(0,a.jsxs)("button",{className:"btn btn-primary",onClick:j,children:[x&&(0,a.jsx)("span",{className:"loading loading-spinner loading-md"}),"Save"]})})]})}l=(u.then?(await u)():u)[0],r()}catch(e){r(e)}})},554:(e,s,t)=>{"use strict";async function r({req:e,res:s}){if(!e.session.get("user"))return{redirect:{destination:"/",permanent:!1}};let t={user:e.session.get("user"),apiToken:e.session.get("api_token"),backendUrl:process.env.BACKEND_API_HOST+"/api",hostUrl:process.env.BACKEND_API_HOST,authHeader:{Authorization:"Bearer "+e.session.get("api_token")}};return{props:{user:e.session.get("user"),api_token:e.session.get("api_token"),configBundle:t}}}async function a({req:e,res:s}){return e.session.get("user")?{redirect:{destination:"/dashboard",permanent:!1}}:{props:{url:process.env.BACKEND_API_HOST}}}t.d(s,{ZP:()=>r,p2:()=>a}),t(1163)},4414:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});var r=t(4511);function a(e){return(0,r.withIronSession)(e,{password:process.env.SECRET_COOKIE_PASSWORD,cookieName:"clm.mw",cookieOptions:{secure:!0}})}},4926:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var r=t(997);t(6764),t(5527);var a=t(1163),n=t.n(a),i=t(808),l=t.n(i);function o({Component:e,pageProps:s}){return(0,r.jsx)(e,{...s})}t(4204),l().configure({showSpinner:!0,speed:300,minimum:.2}),n().events.on("routeChangeStart",()=>l().start()),n().events.on("routeChangeComplete",()=>l().done()),n().events.on("routeChangeError",()=>l().done())},4494:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var r=t(997),a=t(6859);function n(){return(0,r.jsxs)(a.Html,{lang:"en",children:[(0,r.jsx)(a.Head,{}),(0,r.jsxs)("body",{className:"antialiased",children:[(0,r.jsx)(a.Main,{}),(0,r.jsx)(a.NextScript,{})]})]})}},6178:(e,s,t)=>{"use strict";t.a(e,async(e,r)=>{try{t.r(s),t.d(s,{default:()=>h,getServerSideProps:()=>x});var a=t(997),n=t(2394),i=t(8545);t(1664);var l=t(4414),o=t(554),c=t(1099);t(6689);var d=t(6719),u=t(630),p=e([n,d,u]);[n,d,u]=p.then?(await p)():p;let x=(0,l.Z)(o.ZP);function h(e){return(0,a.jsx)(c.I.Provider,{value:e.configBundle,children:(0,a.jsxs)(n.Z,{location:"account",children:[(0,a.jsx)(i.Z,{links:[{label:"Account Settings",url:"/account-settings"}]}),(0,a.jsxs)("div",{className:"my-4",children:[(0,a.jsx)("header",{className:"text-4xl text-gray-600",children:"Account Settings"}),(0,a.jsx)("p",{children:(0,a.jsx)("small",{children:"Manage your account settings."})})]}),(0,a.jsx)(d.Z,{initData:e.configBundle.user}),(0,a.jsx)(u.Z,{user:e.configBundle.user})]})})}r()}catch(e){r(e)}})},6764:()=>{},5527:()=>{},4511:e=>{"use strict";e.exports=require("next-iron-session")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},808:e=>{"use strict";e.exports=require("nprogress")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},271:e=>{"use strict";e.exports=require("sweetalert2")},2048:e=>{"use strict";e.exports=require("fs")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},1568:e=>{"use strict";e.exports=require("zlib")},9648:e=>{"use strict";e.exports=import("axios")}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[706,973,859,291],()=>t(5747));module.exports=r})();