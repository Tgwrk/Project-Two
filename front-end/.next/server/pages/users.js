(()=>{var e={};e.id=892,e.ids=[892,888,660],e.modules={5095:(e,s,t)=>{"use strict";t.a(e,async(e,r)=>{try{t.r(s),t.d(s,{config:()=>p,default:()=>u,getServerSideProps:()=>m,getStaticPaths:()=>x,getStaticProps:()=>h,reportWebVitals:()=>g,routeModule:()=>y,unstable_getServerProps:()=>f,unstable_getServerSideProps:()=>w,unstable_getStaticParams:()=>b,unstable_getStaticPaths:()=>v,unstable_getStaticProps:()=>j});var a=t(5872),n=t(3593),i=t(1323),l=t(4494),o=t(4926),c=t(9085),d=e([c]);c=(d.then?(await d)():d)[0];let u=(0,i.l)(c,"default"),h=(0,i.l)(c,"getStaticProps"),x=(0,i.l)(c,"getStaticPaths"),m=(0,i.l)(c,"getServerSideProps"),p=(0,i.l)(c,"config"),g=(0,i.l)(c,"reportWebVitals"),j=(0,i.l)(c,"unstable_getStaticProps"),v=(0,i.l)(c,"unstable_getStaticPaths"),b=(0,i.l)(c,"unstable_getStaticParams"),f=(0,i.l)(c,"unstable_getServerProps"),w=(0,i.l)(c,"unstable_getServerSideProps"),y=new a.PagesRouteModule({definition:{kind:n.x.PAGES,page:"/users",pathname:"/users",bundlePath:"",filename:""},components:{App:o.default,Document:l.default},userland:c});r()}catch(e){r(e)}})},8545:(e,s,t)=>{"use strict";t.d(s,{Z:()=>i});var r=t(997),a=t(1664),n=t.n(a);function i(e){let s=e.links;return void 0===s&&(s=[]),(0,r.jsx)("div",{className:"breadcrumbs text-sm",children:(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:(0,r.jsx)(n(),{href:"/dashboard",children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-layout-dashboard",children:[(0,r.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.jsx)("path",{d:"M5 4h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1"}),(0,r.jsx)("path",{d:"M5 16h4a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1"}),(0,r.jsx)("path",{d:"M15 12h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1"}),(0,r.jsx)("path",{d:"M15 4h4a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1"})]})})}),s.map((e,s)=>(0,r.jsx)("li",{children:(0,r.jsx)(n(),{href:e.url,children:e.label})},s))]})})}},1099:(e,s,t)=>{"use strict";t.d(s,{I:()=>r});let r=(0,t(6689).createContext)(null)},2394:(e,s,t)=>{"use strict";t.a(e,async(e,r)=>{try{t.d(s,{Z:()=>u});var a=t(997),n=t(1664),i=t.n(n),l=t(6689),o=t(9648),c=t(1099),d=e([o]);function u(e){let s=e.location,{user:t}=(0,l.useContext)(c.I),r=async()=>{try{let e=await o.default.post("/api/logout");200===e.status&&window.location.assign("")}catch(e){}};return(0,a.jsxs)("div",{className:"drawer lg:drawer-open bg-red-50",children:[(0,a.jsx)("input",{id:"my-drawer-4",type:"checkbox",className:"drawer-toggle"}),(0,a.jsx)("div",{className:"drawer-content bg-white my-2 mx-2 rounded-lg",children:(0,a.jsx)("div",{className:"container px-4 lg:px-10 py-4 lg:py-4",children:e.children})}),(0,a.jsxs)("div",{className:"drawer-side",children:[(0,a.jsx)("label",{htmlFor:"my-drawer-4","aria-label":"close sidebar",className:"drawer-overlay"}),(0,a.jsxs)("div",{className:"flex flex-col justify-between min-h-screen",children:[(0,a.jsxs)("ul",{className:"menu p-4 w-64 min-h-full  text-primary ",children:[(0,a.jsx)("li",{className:"mb-10",children:(0,a.jsx)("div",{className:"text-4xl text-gray-600",children:"Albert"})}),(0,a.jsx)("li",{className:`rounded-lg  ${"/"===s?"sidebar-menu-active":""}`,children:(0,a.jsxs)("a",{href:"/dashboard",children:[(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-layout-dashboard",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M5 4h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1"}),(0,a.jsx)("path",{d:"M5 16h4a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1"}),(0,a.jsx)("path",{d:"M15 12h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1"}),(0,a.jsx)("path",{d:"M15 4h4a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1"})]}),(0,a.jsx)("span",{children:"Dashboard"})]})}),(0,a.jsx)("li",{className:`rounded-lg ${"users"===s?"sidebar-menu-active mt-4":"mt-4"}`,children:(0,a.jsxs)(i(),{href:"/users/",children:[(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-users",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0"}),(0,a.jsx)("path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"}),(0,a.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}),(0,a.jsx)("path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85"})]}),(0,a.jsx)("span",{children:"Users"})]})})]}),(0,a.jsx)("ul",{className:"menu p-4 w-64 min-h-full text-primary ",children:(0,a.jsxs)("li",{className:`bg-transparent dropdown dropdown-top rounded-lg ${"account"===s?"sidebar-menu-active mt-20":"mt-20"}`,children:[(0,a.jsxs)("div",{tabIndex:0,role:"button",className:" m-1",children:[t.first_name.at(0).toUpperCase(),". ",t.last_name.toUpperCase()]}),(0,a.jsxs)("ul",{tabIndex:0,className:"dropdown-content menu bg-base-100 rounded-box z-[1] w-52 shadow",children:[(0,a.jsx)("li",{children:(0,a.jsx)(i(),{href:"/account/settings",children:"Settings"})}),(0,a.jsx)("li",{children:(0,a.jsx)("button",{onClick:r,children:"Logout"})})]})]})})]})]})]})}o=(d.then?(await d)():d)[0],r()}catch(e){r(e)}})},5734:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});var r=t(997);function a(){return(0,r.jsx)("span",{className:"loading loading-spinner text-primary"})}},1137:(e,s,t)=>{"use strict";t.a(e,async(e,r)=>{try{t.d(s,{Z:()=>h});var a=t(997),n=t(6689),i=t(9648),l=t(288),o=t(1099),c=t(5734),d=t(116),u=e([i]);function h({users:e}){let s=(0,n.useContext)(o.I),[t,r]=(0,n.useState)(!0),[u,h]=(0,n.useState)([]),[x,m]=(0,n.useState)(""),[p,g]=(0,n.useState)(null),j=async e=>{try{let t=await i.default.delete(`${s.backendUrl}/admin/users/${e.id}`,{headers:{...s.authHeader}});204===t.status&&(h(u.filter(s=>s.id!==e.id)),g(null),(0,l.Cq)("Deleted!","User has been deleted successfully."))}catch(e){(0,l.sD)("Oops!","Something went wrong!")}},v=async()=>{await (0,l.xK)("Delete this item?","You won't be able to undo this!")?await j(p):console.log("Action canceled")};return t?(0,a.jsx)(c.Z,{loading:t}):(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-10",children:[(0,a.jsxs)("div",{className:"h-[35em] bg-white shadow-sm border",children:[(0,a.jsx)("div",{className:"px-2 py-2",children:(0,a.jsx)("input",{type:"search",className:"input input-bordered w-full",value:x,onChange:e=>m(e.target.value),placeholder:"Search..."})}),(0,a.jsx)("div",{className:"h-[25em]  overflow-y-auto overscroll-auto",children:u.map((e,s)=>(0,a.jsx)("div",{onClick:()=>g(e),className:`list-group-item ${p?.id===e.id?"active":""}`,children:(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("div",{children:e.name}),p?.id===e.id&&(0,a.jsx)("div",{children:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-arrow-right-square",children:[(0,a.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,a.jsx)("path",{d:"M7 12l14 0"}),(0,a.jsx)("path",{d:"M18 15l3 -3l-3 -3"}),(0,a.jsx)("path",{d:"M3 10h4v4h-4z"})]})})]})},s))})]}),(0,a.jsx)("div",{className:"col-span-2",children:(0,a.jsx)(d.Z,{datum:p,deleteCb:v})})]})}i=(u.then?(await u)():u)[0],r()}catch(e){r(e)}})},116:(e,s,t)=>{"use strict";t.d(s,{Z:()=>l});var r=t(997),a=t(1664),n=t.n(a);function i(){return(0,r.jsx)("div",{className:"bg-gray-100 border h-full",children:(0,r.jsx)("div",{className:"flex justify-center items-center h-full align-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{children:"No Data Selected."}),(0,r.jsx)("div",{className:"text-sm",children:"Select record to view details."})]})})})}function l({datum:e,deleteCb:s}){return e?(0,r.jsxs)("div",{className:"facility-view border bg-white shadow-sm h-full px-4 py-3",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("div",{children:(0,r.jsx)("header",{className:"text-3xl",children:e.name})}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(n(),{href:`/users/${e.id}/edit`,className:"btn btn-secondary btn-sm",children:"Edit"}),(0,r.jsx)("button",{className:"btn btn-primary btn-sm",onClick:s,children:"Delete"})]})]}),(0,r.jsxs)("div",{className:"mt-4 mb-2 bg-gray-50 px-2 py-2 border border-gray-100 grid grid-cols-1 lg:grid-cols-4 gap-10",children:[(0,r.jsxs)("div",{className:"group my-4",children:[(0,r.jsx)("header",{className:"text-sm text-gray-500",children:"Username"}),e.username]}),(0,r.jsxs)("div",{className:"group my-4",children:[(0,r.jsx)("header",{className:"text-sm text-gray-500",children:"Role"}),e.role?.name]}),(0,r.jsxs)("div",{className:"group my-4",children:[(0,r.jsx)("header",{className:"text-sm text-gray-500",children:"Affiliation"}),"--"]})]}),(0,r.jsxs)("div",{className:"my-2 bg-gray-50 px-2 py-2 border border-gray-100 grid grid-cols-1 lg:grid-cols-4 gap-10",children:[(0,r.jsxs)("div",{className:"group my-4",children:[(0,r.jsx)("header",{className:"text-sm text-gray-500",children:"First Name"}),e.first_name]}),(0,r.jsxs)("div",{className:"group my-4",children:[(0,r.jsx)("header",{className:"text-sm text-gray-500",children:"Last Name"}),e.last_name]}),(0,r.jsxs)("div",{className:"group my-4",children:[(0,r.jsx)("header",{className:"text-sm text-gray-500",children:"Email"}),e.email??"--"]}),(0,r.jsxs)("div",{className:"group my-4",children:[(0,r.jsx)("header",{className:"text-sm text-gray-500",children:"Phone #"}),e.phone??"--"]})]})]}):(0,r.jsx)(i,{})}},288:(e,s,t)=>{"use strict";t.d(s,{Cq:()=>n,sD:()=>i,xK:()=>l});var r=t(271),a=t.n(r);let n=async(e="Success",s="Operation was successful!")=>{await a().fire({title:e,text:s,icon:"success",confirmButtonColor:"#4CAF50",confirmButtonText:"Okay"})},i=(e="Error",s="Something went wrong!")=>{a().fire({title:e,text:s,icon:"error",confirmButtonColor:"#E53E3E",confirmButtonText:"Try Again"})},l=async(e="Are you sure?",s="This action cannot be undone.")=>(await a().fire({title:e,text:s,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes,Proceed",cancelButtonText:"Cancel",confirmButtonColor:"#d33",cancelButtonColor:"#4CAF50"})).isConfirmed},554:(e,s,t)=>{"use strict";async function r({req:e,res:s}){if(!e.session.get("user"))return{redirect:{destination:"/",permanent:!1}};let t={user:e.session.get("user"),apiToken:e.session.get("api_token"),backendUrl:process.env.BACKEND_API_HOST+"/api",hostUrl:process.env.BACKEND_API_HOST,authHeader:{Authorization:"Bearer "+e.session.get("api_token")}};return{props:{user:e.session.get("user"),api_token:e.session.get("api_token"),configBundle:t}}}async function a({req:e,res:s}){return e.session.get("user")?{redirect:{destination:"/dashboard",permanent:!1}}:{props:{url:process.env.BACKEND_API_HOST}}}t.d(s,{ZP:()=>r,p2:()=>a}),t(1163)},4414:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});var r=t(4511);function a(e){return(0,r.withIronSession)(e,{password:process.env.SECRET_COOKIE_PASSWORD,cookieName:"clm.mw",cookieOptions:{secure:!0}})}},4926:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var r=t(997);t(6764),t(5527);var a=t(1163),n=t.n(a),i=t(808),l=t.n(i);function o({Component:e,pageProps:s}){return(0,r.jsx)(e,{...s})}t(4204),l().configure({showSpinner:!0,speed:300,minimum:.2}),n().events.on("routeChangeStart",()=>l().start()),n().events.on("routeChangeComplete",()=>l().done()),n().events.on("routeChangeError",()=>l().done())},4494:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var r=t(997),a=t(6859);function n(){return(0,r.jsxs)(a.Html,{lang:"en",children:[(0,r.jsx)(a.Head,{}),(0,r.jsxs)("body",{className:"antialiased",children:[(0,r.jsx)(a.Main,{}),(0,r.jsx)(a.NextScript,{})]})]})}},9085:(e,s,t)=>{"use strict";t.a(e,async(e,r)=>{try{t.r(s),t.d(s,{default:()=>m,getServerSideProps:()=>p});var a=t(997),n=t(2394),i=t(8545),l=t(4414),o=t(554),c=t(1099),d=t(1664),u=t.n(d),h=t(1137),x=e([n,h]);[n,h]=x.then?(await x)():x;let p=(0,l.Z)(o.ZP);function m(e){return(0,a.jsx)(c.I.Provider,{value:e.configBundle,children:(0,a.jsxs)(n.Z,{location:"users",children:[(0,a.jsx)(i.Z,{links:[{label:"Users",url:"/users"}]}),(0,a.jsxs)("div",{className:"my-4",children:[(0,a.jsx)("header",{className:"text-4xl text-gray-600",children:"Users"}),(0,a.jsx)("p",{children:(0,a.jsx)("small",{children:"Create and manage user accounts."})})]}),(0,a.jsxs)("div",{className:"my-10",children:[(0,a.jsx)("div",{className:"my-4",children:(0,a.jsx)(u(),{href:"/users/create",className:"btn btn-primary",children:"New User"})}),(0,a.jsx)(h.Z,{})]})]})})}r()}catch(e){r(e)}})},6764:()=>{},5527:()=>{},4511:e=>{"use strict";e.exports=require("next-iron-session")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},808:e=>{"use strict";e.exports=require("nprogress")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},271:e=>{"use strict";e.exports=require("sweetalert2")},2048:e=>{"use strict";e.exports=require("fs")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},1568:e=>{"use strict";e.exports=require("zlib")},9648:e=>{"use strict";e.exports=import("axios")}};var s=require("../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[706,973,859,291],()=>t(5095));module.exports=r})();